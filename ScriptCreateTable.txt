CREATE TABLE FINCA(
	ID_FINCA VARCHAR(20) PRIMARY KEY,
	LOCALIDAD VARCHAR(20),
	SUPERFICIE INT,
	F_COMPRA DATE,
	F_FIN DATE
);

CREATE TABLE TRACTOR(
	MATRICULA VARCHAR(8) PRIMARY KEY,
	MODELO VARCHAR(20),
	POTENCIA INT,
	ALTURA INT,
	ANCHO INT,
	F_ITV DATE,
	ANIO INT
);

CREATE TABLE CONDUCTOR(
		DNI VARCHAR(9) PRIMARY KEY,
		NOMBRE VARCHAR(20),
		APELLIDOS VARCHAR(20),
		F_NAC DATE,
		TLF VARCHAR(9),
		SALARIO INT,
		PERMISOS VARCHAR(20)
);

CREATE TABLE CONDUCE(
	DNI VARCHAR(20) REFERENCES CONDUCTOR(DNI),
	FECHA DATE,
	LUGAR VARCHAR(20),
	HORAS INT,
	MATRICULA VARCHAR(8) REFERENCES TRACTOR(MATRICULA),
	CONSTRAINT PK_CONDUCE PRIMARY KEY(DNI,MATRICULA)
);

CREATE TABLE ENCARGADO(
		DNI VARCHAR(9) PRIMARY KEY,
		NOMBRE VARCHAR(20),
		APELLIDOS VARCHAR(20),
		F_NAC DATE,
		tLF VARCHAR(9),
		SALARIO INT,
		VH_EMPRESA VARCHAR(8)
);

CREATE TABLE TRABAJADOR(
		DNI VARCHAR(9) PRIMARY KEY,
		NOMBRE VARCHAR(20),
		APELLIDOS VARCHAR(20),
		F_NAC DATE,
		TLF VARCHAR(9),
		SALARIO INT
);

CREATE TABLE DIRIGE(
	DNI VARCHAR(9) REFERENCES ENCARGADO(DNI),
	F_INICIO DATE,
	F_FIN DATE,
	ID_FINCA VARCHAR(20) REFERENCES FINCA(ID_FINCA),
	CONSTRAINT PK_DIRIGE PRIMARY KEY(DNI,ID_FINCA)
);

CREATE TABLE FORMA(
	DNI VARCHAR(9) REFERENCES TRABAJADOR(DNI),
	F_INICIO DATE,
	F_FIN DATE,
	ID_CUADRILLA VARCHAR(20),
	CONSTRAINT PK_FORMA PRIMARY KEY(DNI,ID_CUADRILLA)
);

CREATE TABLE LIDERA(
	DNI VARCHAR(9) REFERENCES ENCARGADO(DNI),
	F_INICIO DATE,
	F_FIN DATE,
	ID_CUADRILLA VARCHAR(20) ,
	CONSTRAINT PK_LIDERA PRIMARY KEY(DNI,ID_CUADRILLA)
);

CREATE TABLE CUADRILLA(
	ID_CUADRILLA VARCHAR(20) PRIMARY KEY,
	F_CREACION DATE,
	F_FIN DATE
);

CREATE TABLE TRABAJA(
	ID_CUADRILLA VARCHAR(20) REFERENCES CUADRILLA(ID_CUADRILLA),
	FECHA DATE,
	HORAS DATE,
	ID_EXPLOTACION VARCHAR(20) ,
	CONSTRAINT PK_TRABAJA PRIMARY KEY(ID_CUADRILLA,ID_EXPLOTACION)
);

CREATE TABLE EXPLOTACION(
	ID_EXPLOTACION VARCHAR(20) PRIMARY KEY,
	SUPERFICIE INT,
	TIPO VARCHAR(10),
	F_CREACION DATE,
	F_FIN DATE,
	ID_FINCA VARCHAR(20) REFERENCES FINCA(ID_FINCA),
);

CREATE TABLE PLANTACION(
	ID_PLANT VARCHAR(20),
	TIPO VARCHAR(10),
	VARIEDAD VARCHAR(20),
	F_INICIO DATE,
	F_FIN DATE,
	ID_EXPLOTACION VARCHAR(20) REFERENCES(ID_EXPLOTACION),
	CONSTRAINT PK_PLANTACION PRIMARY KEY(ID_PLANT,ID_EXPLOTACION)
);

CREATE TABLE VENTA(
	ID_VENTA VARCHAR(40) PRIMARY KEY,
	KG INT NOT NULL,
	PRECIO FLOAT(4,2),
	TAMANIO VARCHAR(20),
	COLOR VARCHAR(20), 
	FECHA DATE
);


